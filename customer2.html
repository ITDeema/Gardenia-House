<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Request a Service | Gardenia House</title>
 <link rel="stylesheet" href="Style.css">
</head>

<body class="">

  <button onclick="topFunction()" id="myBtn" title="Go to top">â–²</button>
<header>
  <nav>
    <a href="Homepage.html"><img src="images/logo.png" alt="Gardenia House Logo"></a>
    <a href="aboutus.html"><span class="tabs">About Us</span></a>
    <a href="Services.html">Services</a>
    <a href="provider-dashboard.html">Service Provider Dashboard</a>
    <a href="customer1.html" class="active">Customer Dashboard</a>
    <a href="find-flower.html">Find Your Flower</a>
  </nav>
</header>

<!-- Breadcrumb --> 
<div class="breadcrumbs"> 
  <a href="homepage.html">Home</a> â€º <a href="customer1.html">Customer Dashboard</a> <span class="current-page">â€º Request A Service</span> 
</div> 

<main class="layan-request-page">
  <section class="layan-form-section">
    <h2>Service Request</h2>

    <form class="layan-request-form">
      <label>Service Name:</label>
      <select required>
        <option value="">Select..</option>
        <option>Event Floral Decoration</option>
        <option>Floral Design Workshops</option>
        <option>Gardener Maintenance</option>
        <option>Monthly Subscription Box</option>
        <option>Floral Gift Delivery</option>
      </select>

      <label>Customer Name:</label>
      <input type="text" placeholder="Customerâ€™s name.." required>

      <label>Due Date:</label>
      <input type="date" name="due-date" min="2025-01-01" max="2025-12-31" required>

      <label>Request Description:</label>
      <textarea placeholder="I would want to.." rows="4"></textarea>

      <button class="layan-btn" type="submit">Submit</button>
    </form>
  </section>
</main>


<footer>
  <div class="footer-container">
    <div class="footer-left">
      <img src="images/logo.png" alt="Gardenia House Logo" class="footer-logo">
      <div class="contact-info">
        <p><strong>Contact us</strong><br>
        Phone: +966 50 123 4567<br>
         Email: GardeniaHouse@gmail.com<br>
        Â© Copyright</p>
      </div>
    </div>

    <div id="clock" class="footer-clock"></div>


    <div class="footer-right">
      <div class="social">
        <a href="https://www.instagram.com"><img src="images/instagram.png" alt="Instagram"></a>
        <p>@GardeniaHouse</p>
      </div>
      <div class="social">
       <a href="https://x.com"><img src="images/twitter-alt.png" alt="X(Twitter)"></a>
        <p>@GardeniaHouse</p>
      </div>
      <div class="social">
       <a href="https://www.whatsapp.com"><img src="images/whatsapp.png" alt="Whatsapp"></a>
        <p>+966 512 345 678</p>
      </div>
    </div>
  </div>



</footer>


<script src="theme.js"></script>
<script src="clock.js"></script>
<script src="button.js"></script>
<script>
// =====================================
// CUSTOMER 2 â€” FUN + VALIDATION
// =====================================

document.addEventListener("DOMContentLoaded", function () {

    const form = document.querySelector(".layan-request-form");
    let requestMemory = [];

    const displayArea = document.createElement("div");
    displayArea.style.marginTop = "20pt";
    form.insertAdjacentElement("afterend", displayArea);

    // ðŸŒ¸ Blossom Fun
    const blossom = document.createElement("div");
    blossom.innerHTML = "ðŸŒ¸";
    blossom.style.position = "absolute";
    blossom.style.fontSize = "20pt";
    blossom.style.opacity = "0";
    blossom.style.transition = "all 0.9s ease";
    blossom.style.pointerEvents = "none";
    document.body.appendChild(blossom);

    function triggerBlossom(x, y) {
        blossom.style.left = x + "px";
        blossom.style.top = y + "px";
        blossom.style.opacity = "1";
        blossom.style.transform = "translateY(-20pt) scale(1.4)";

        setTimeout(() => {
            blossom.style.opacity = "0";
            blossom.style.transform = "translateY(0) scale(1)";
        }, 700);
    }

    // ðŸŒ¸ Shake field on error
    function shakeField(field) {
        field.style.animation = "shake 0.25s";
        field.style.border = "1pt solid #ff6ca8";

        setTimeout(() => {
            field.style.animation = "";
            field.style.border = "";
        }, 300);
    }

    form.addEventListener("submit", function (e) {
        e.preventDefault();

        const service = form.querySelector("select");
        const name = form.querySelector("input[type='text']");
        const date = form.querySelector("input[type='date']");
        const desc = form.querySelector("textarea");

        let errors = [];

        // Validate service
        if (service.value.trim() === "") {
            errors.push("ðŸŒ¸ Please select a service.");
            shakeField(service);
        }

        // Validate name
        if (!/^[A-Za-z]{2,}\s[A-Za-z]{2,}$/.test(name.value.trim())) {
            errors.push("ðŸŒ¸ Enter a valid full name (first + last).");
            shakeField(name);
        }

        // Validate date (future + at least 3 days)
        const due = new Date(date.value);
        const today = new Date();
        today.setHours(0,0,0,0);

        const diff = (due - today) / (1000*60*60*24);

        if (!date.value) {
            errors.push("ðŸŒ¸ Please choose a due date.");
            shakeField(date);

        } else if (due <= today) {
            errors.push("ðŸŒ¸ Date must be in the future.");
            shakeField(date);

        } else if (diff < 3) {
            errors.push("ðŸŒ¸ Date is too soon. Minimum 3 days from today.");
            shakeField(date);
        }

        // Validate description
        if (desc.value.trim().length < 10) {
            errors.push("ðŸŒ¸ Description must be at least 10 characters.");
            shakeField(desc);
        }

        if (errors.length > 0) {
            alert("Please fix the following:\n\n" + errors.join("\n"));
            return;
        }

        // Duplicate protection
        const key = service.value + "|" + name.value + "|" + date.value + "|" + desc.value;
        if (requestMemory.includes(key)) {
            alert("ðŸŒ¸ Duplicate request â€” already submitted.");
            return;
        }

        requestMemory.push(key);

        // Blossom animation
        triggerBlossom(event.clientX, event.clientY);

        // Success message
        const stay = confirm(
            "Request submitted successfully!\n\n" +
            "OK = Stay\nCancel = Dashboard"
        );

        if (!stay) {
            window.location.href = "customer1.html";
            return;
        }

        // Summary box (typing animation)
        const box = document.createElement("div");
        box.style.marginTop = "10pt";
        box.style.padding = "12pt";
        box.style.border = "1pt solid #b8aedf";
        box.style.borderRadius = "6pt";
        box.style.background = "white";
        box.style.fontSize = "11pt";
        box.style.lineHeight = "14pt";
        box.style.whiteSpace = "pre-line";
        box.style.wordWrap = "break-word";
        box.style.maxWidth = "100%";

        const summary =
            `Service: ${service.value}\n` +
            `Name: ${name.value}\n` +
            `Due Date: ${date.value}\n` +
            `Description: ${desc.value}`;

        let i = 0;
        function typeWriter() {
            box.textContent = summary.substring(0, i);
            i++;
            if (i <= summary.length) setTimeout(typeWriter, 12);
        }

        displayArea.appendChild(box);
        typeWriter();

    });

});
</script>

<style>
@keyframes shake {
  0% { transform: translateX(0pt); }
  25% { transform: translateX(-2pt); }
  50% { transform: translateX(2pt); }
  75% { transform: translateX(-2pt); }
  100% { transform: translateX(0pt); }
}
</style>





</body>
</html>
